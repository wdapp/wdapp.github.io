{"version":3,"sources":["webpack:///./src/common/components/animation/fade/Fade.vue?cc6c","webpack:///./src/common/components/questionnaire/Questionnaire.vue?36dc","webpack:///./src/common/components/animation/fade/Fade.vue?5893","webpack:///src/common/components/animation/fade/Fade.vue","webpack:///./src/common/components/animation/fade/Fade.vue?b53b","webpack:///./src/common/components/animation/fade/Fade.vue","webpack:///src/common/components/questionnaire/Questionnaire.vue","webpack:///./src/common/components/questionnaire/Questionnaire.vue?1634","webpack:///./src/common/components/questionnaire/Questionnaire.vue","webpack:///./src/common/components/questionnaire/Questionnaire.vue?ad48","webpack:///./src/common/components/questionnaire/Questionnaire.vue?88b3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","_v","_s","isShowResult","resultTitle","title","questionnaire","forcibly","on","onClose","attrs","class","disabled","max","model","callback","$$v","result","_l","option","key","active","isActive","select","isSelect","correct","isCorrect","formatContent","onReset","slot","onSubmit","onClosed","show","popup","type","message","_e","staticRenderFns","_t","component","components","AnimationFade","props","Object","default","data","messageBoxTimer","messageBoxTimerInterval","isShowQuestionnaireWrapper","isShowQuestionnaire","success","computed","formatResult","i","length","push","watch","methods","compareResult","content","showMessageBox","clearTimeout","setTimeout","selects","j","options","selectedOptionId","id","substring","questionnaireId","subjectsAnswer","_options","selectedOptionIds","HD","submitQuestionnaire","submitedAction","stopQuestionnaire","isError","indexOf","isRight","mounted","onQuestionnairePublishStop"],"mappings":"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","file":"js/chunk-ee401652.b4a7f766.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fade.vue?vue&type=style&index=0&id=4211a8f5&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fade.vue?vue&type=style&index=0&id=4211a8f5&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isShowQuestionnaireWrapper)?_c('div',{staticClass:\"questionnaire-wrapper\"},[_c('animation-fade',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowQuestionnaire),expression:\"isShowQuestionnaire\"}],staticClass:\"questionnaire-container\"},[_c('div',{staticClass:\"questionnaire-wrap\"},[_c('div',{staticClass:\"questionnaire-header-wrap\"},[_c('div',{staticClass:\"questionnaire-header-title-wrap\"},[_c('p',{staticClass:\"questionnaire-header-title-text\"},[_vm._v(\" \"+_vm._s(_vm.isShowResult ? _vm.resultTitle : _vm.title)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowResult ? true : !_vm.questionnaire.forcibly),expression:\"isShowResult ? true : !questionnaire.forcibly\"}],staticClass:\"questionnaire-header-close-wrap\",on:{\"click\":_vm.onClose}},[_c('van-icon',{staticClass:\"questionnaire-header-close-btn\",attrs:{\"name\":\"cross\"}})],1)]),_c('div',{staticClass:\"questionnaire-body-wrap\"},[_c('div',{staticClass:\"questionnaire-body-title-wrap\"},[_c('p',{staticClass:\"questionnaire-body-title-text\"},[_vm._v(\" \"+_vm._s(_vm.questionnaire.title)+\" \")])]),_c('div',{staticClass:\"questionnaire-body-questions-wrap\",class:{ 'question-active': _vm.isShowResult }},[_c('van-checkbox-group',{attrs:{\"disabled\":_vm.disabled,\"max\":_vm.questionnaire.max},model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}},[_c('van-cell-group',_vm._l((_vm.questionnaire.options),function(option,key){return _c('van-cell',{key:key,staticClass:\"question-item\",class:{\n                    active: _vm.isActive(key),\n                    select: _vm.isSelect(key),\n                    correct: _vm.isCorrect(option)\n                  },attrs:{\"title\":_vm.formatContent(option),\"clickable\":\"\"},on:{\"click\":_vm.onReset}},[_c('van-checkbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"van-checkbox\",attrs:{\"slot\":\"right-icon\",\"name\":key},slot:\"right-icon\"})],1)}),1)],1)],1),_c('div',{staticClass:\"questionnaire-footer-wrap\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowResult),expression:\"!isShowResult\"}],staticClass:\"questionnaire-footer-btn-wrap\",on:{\"click\":_vm.onSubmit}},[_c('div',{staticClass:\"questionnaire-footer-btn\"},[_vm._v(\"确定提交\")])])])])])])]),_c('van-popup',{on:{\"closed\":_vm.onClosed},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('span',{staticClass:\"popup-icon\",class:_vm.popup.type}),_vm._v(\" \"+_vm._s(_vm.popup.message)+\" \")])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition>\n    <slot></slot>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: \"Fade\"\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.v-enter, .v-leave-to\n  opacity 0\n.v-enter-active\n  transition opacity .3s\n.v-leave-active\n  transition opacity .8s\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fade.vue?vue&type=template&id=4211a8f5&scoped=true&\"\nimport script from \"./Fade.vue?vue&type=script&lang=js&\"\nexport * from \"./Fade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Fade.vue?vue&type=style&index=0&id=4211a8f5&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4211a8f5\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"questionnaire-wrapper\" v-if=\"isShowQuestionnaireWrapper\">\n    <animation-fade>\n      <div class=\"questionnaire-container\" v-show=\"isShowQuestionnaire\">\n        <div class=\"questionnaire-wrap\">\n          <div class=\"questionnaire-header-wrap\">\n            <div class=\"questionnaire-header-title-wrap\">\n              <p class=\"questionnaire-header-title-text\">\n                {{ isShowResult ? resultTitle : title }}\n              </p>\n            </div>\n            <div\n              class=\"questionnaire-header-close-wrap\"\n              @click=\"onClose\"\n              v-show=\"isShowResult ? true : !questionnaire.forcibly\"\n            >\n              <van-icon class=\"questionnaire-header-close-btn\" name=\"cross\" />\n            </div>\n          </div>\n          <div class=\"questionnaire-body-wrap\">\n            <div class=\"questionnaire-body-title-wrap\">\n              <p class=\"questionnaire-body-title-text\">\n                {{ questionnaire.title }}\n              </p>\n            </div>\n            <div\n              class=\"questionnaire-body-questions-wrap\"\n              :class=\"{ 'question-active': isShowResult }\"\n            >\n              <van-checkbox-group\n                v-model=\"result\"\n                :disabled=\"disabled\"\n                :max=\"questionnaire.max\"\n              >\n                <van-cell-group>\n                  <van-cell\n                    class=\"question-item\"\n                    :class=\"{\n                      active: isActive(key),\n                      select: isSelect(key),\n                      correct: isCorrect(option)\n                    }\"\n                    :title=\"formatContent(option)\"\n                    v-for=\"(option, key) of questionnaire.options\"\n                    :key=\"key\"\n                    clickable\n                    @click=\"onReset\"\n                  >\n                    <van-checkbox\n                      class=\"van-checkbox\"\n                      slot=\"right-icon\"\n                      :name=\"key\"\n                      v-show=\"true\"\n                    />\n                  </van-cell>\n                </van-cell-group>\n              </van-checkbox-group>\n            </div>\n            <div class=\"questionnaire-footer-wrap\">\n              <div\n                class=\"questionnaire-footer-btn-wrap\"\n                @click=\"onSubmit\"\n                v-show=\"!isShowResult\"\n              >\n                <div class=\"questionnaire-footer-btn\">确定提交</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </animation-fade>\n    <van-popup v-model=\"show\" @closed=\"onClosed\">\n      <span class=\"popup-icon\" :class=\"popup.type\"></span>\n      {{ popup.message }}\n    </van-popup>\n  </div>\n</template>\n\n<script>\n/**\n * 问卷组件\n * */\nimport AnimationFade from \"common/components/animation/fade/Fade\";\nimport HuodeScene from \"common/websdk/live\";\nimport { log } from \"common/utils\";\n\nexport default {\n  name: \"Questionnaire\",\n  components: {\n    AnimationFade\n  },\n  props: {\n    questionnaire: {\n      type: Object,\n      default() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      title: \"问卷\",\n      resultTitle: \"答题结果\",\n      messageBoxTimer: 0,\n      messageBoxTimerInterval: 2000,\n      isShowQuestionnaireWrapper: false,\n      isShowQuestionnaire: false,\n      isShowResult: false,\n      result: [],\n      max: 1,\n      disabled: false,\n      show: false,\n      success: true,\n      popup: {\n        type: \"success\",\n        message: \"提交成功\"\n      }\n    };\n  },\n  computed: {\n    formatResult() {\n      const result = [];\n      const optionIndex = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n      for (var i = 0; i < this.result.length; i++) {\n        const option = optionIndex[this.result[i]];\n        result.push(option);\n      }\n      return result;\n    }\n  },\n  watch: {\n    questionnaire() {\n      this.isShowQuestionnaireWrapper = true;\n      this.isShowQuestionnaire = true;\n      this.disabled = false;\n      this.result = [];\n    }\n  },\n  methods: {\n    isActive(key) {\n      let active = false;\n      active = this.compareResult(key);\n      return active;\n    },\n    isSelect(key) {\n      let select = false;\n      select = this.compareResult(key);\n      return this.isShowResult && select;\n    },\n    compareResult(key) {\n      let result = false;\n      for (let i = 0; i < this.result.length; i++) {\n        if (this.result[i] === key) {\n          result = true;\n        }\n      }\n      return result;\n    },\n    isCorrect(option) {\n      let correct = option.correct;\n      return this.isShowResult && correct;\n    },\n    formatContent(option) {\n      return option.key + \".\" + option.content;\n    },\n    showMessageBox(type, message) {\n      this.show = true;\n      this.popup = {\n        type,\n        message\n      };\n      this.messageBoxTimer && clearTimeout(this.messageBoxTimer);\n      this.messageBoxTimer = setTimeout(() => {\n        this.show = false;\n        this.messageBoxTimer = 0;\n      }, this.messageBoxTimerInterval);\n    },\n    onClose() {\n      this.isShowQuestionnaireWrapper = false;\n      this.isShowQuestionnaire = false;\n    },\n    onSubmit() {\n      let selects = this.formatResult;\n      if (!selects.length) {\n        return;\n      }\n\n      this.isShowQuestionnaire = false;\n      log(\"select\", selects);\n\n      let selectedOptionId = [];\n      const options = this.questionnaire.options;\n      for (var i = 0; i < selects.length; i++) {\n        const select = selects[i];\n        for (var j = 0; j < options.length; j++) {\n          const option = options[j];\n          if (select === option.key) {\n            selectedOptionId += option.id + \",\";\n          }\n        }\n      }\n      selectedOptionId = selectedOptionId.substring(\n        0,\n        selectedOptionId.length - 1\n      );\n      let _options = {\n        questionnaireId: this.questionnaire.questionnaireId,\n        subjectsAnswer: [\n          {\n            subjectId: this.questionnaire.subjectId\n          }\n        ]\n      };\n      if (this.questionnaire.max > 1) {\n        _options.subjectsAnswer[0].selectedOptionIds = selectedOptionId;\n      } else {\n        _options.subjectsAnswer[0].selectedOptionId = selectedOptionId;\n      }\n      this.isShowQuestionnaire = false;\n      this.HD.submitQuestionnaire(_options, data => {\n        log(\"submitQuestionnaire\", data);\n        if (data.success) {\n          this.success = true;\n          this.showMessageBox(\"success\", \"提交成功\");\n        } else {\n          this.success = false;\n          this.showMessageBox(\"fail\", \"提交失败\");\n        }\n      });\n    },\n    onClosed() {\n      this.messageBoxTimer && clearTimeout(this.messageBoxTimer);\n      this.messageBoxTimer = 0;\n      if (this.success && this.questionnaire.submitedAction) {\n        this.isShowQuestionnaire = true;\n        this.isShowResult = true;\n        this.disabled = true;\n      } else {\n        this.stopQuestionnaire();\n      }\n    },\n    isError(key) {\n      if (this.formatResult.indexOf(key) !== -1) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    isRight(key) {\n      if (this.questionnaire.correct === key) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    stopQuestionnaire() {\n      this.isShowQuestionnaireWrapper = false;\n      this.isShowQuestionnaire = false;\n      this.isShowResult = false;\n      this.disabled = false;\n      this.messageBoxTimer && clearTimeout(this.messageBoxTimer);\n      this.messageBoxTimer = 0;\n      this.show = false;\n    },\n    onReset() {\n      if (!this.disabled && this.questionnaire.max === 1) {\n        this.result = [];\n      }\n    }\n  },\n  mounted() {\n    this.HD = new HuodeScene();\n    this.HD.onQuestionnairePublishStop(data => {\n      log(\"onQuestionnairePublishStop\", data);\n      this.stopQuestionnaire();\n    });\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"~styles/mixins.styl\"\n\n.questionnaire-wrapper\n  top 0\n  position fixed\n  z-index 2\n  width-height-full()\n  .questionnaire-container\n    position absolute\n    width-height-full()\n    background-color rgba(0, 0, 0, 0.7)\n    .questionnaire-wrap\n      position absolute\n      top 50%\n      left 50%\n      margin-top -194px\n      margin-left -310px\n      z-index 99\n      width 620px\n      background-color $fff\n      border 1px solid $ddd\n      border-radius 8px\n      overflow hidden\n      .questionnaire-header-wrap\n        position relative\n        width 100%\n        height 100px\n        background $fff\n        padding-left 32px\n        padding-right 15px\n        box-sizing border-box\n        .questionnaire-header-title-wrap\n          width-height-full()\n          line-height 100px\n          text-align center\n          .questionnaire-header-title-text\n            baseTextStyle(36px, $red, $boldFontWeight)\n        .questionnaire-header-close-wrap\n          position absolute\n          height 100%\n          top 20px\n          right 20px\n          .questionnaire-header-close-btn\n            font-size 40px\n            color #BBBBBB\n      .questionnaire-body-questions-result\n        width 100%\n        height 40px\n        background-color #FFFBC9\n        line-height 40px\n        padding-left 27px\n        box-sizing border-box\n        margin-top 1px; /*no*/\n        .questionnaire-body-questions-result-text\n          baseTextStyle(14px, $red, 400)\n      .questionnaire-body-wrap\n        min-height 215px\n        padding 30px\n        box-sizing border-box\n        .questionnaire-body-title-wrap\n          max-height 90px\n          overflow-y auto\n          margin-bottom 35px\n          .questionnaire-body-title-text\n            baseTextStyle(30px, $c333, $boldFontWeight)\n            break-world()\n            line-height 42px\n      .question-active\n        >>> .el-checkbox__input\n          display inline-block\n          opacity 0\n          width-height-same(30px)\n          background url(\"~images/select/right.png\") no-repeat\n          background-size 30px\n          margin-top -7px\n          margin-right 6px\n          .el-checkbox__inner\n            margin-right 17px\n            top -1px\n            display none\n        .error\n          >>> .el-checkbox__input\n            background-image url('~images/select/error.png')\n            opacity 1\n        .right\n          >>> .el-checkbox__input\n            background-image url('~images/select/right.png')\n            opacity 1\n      .questionnaire-body-questions-wrap\n        width 100%\n        max-height 450px\n        overflow auto\n        .question-item\n          position relative\n          width 540px\n          background rgba(245, 241, 246, 1)\n          border-radius 8px\n          display block\n          margin-bottom 21px\n          break-world()\n          baseTextStyle(28px, $c333)\n          line-height 40px\n          .van-checkbox\n            position absolute\n            top 0\n            height 100%\n            width 100%\n            opacity 0\n          >>> .el-checkbox__label\n            line-height 40px\n          >>> .el-checkbox__input\n            .el-checkbox__inner\n              margin-right 17px\n              top -1px\n        .active\n          color red\n        .select\n          background-color #FFDBDC\n          color $c333\n        .correct\n          background-color #CFFFDF\n        >>> .is-checked\n          .el-checkbox__label\n            color $red\n        .question-item:last-child\n          margin-bottom 0\n      .questionnaire-footer-wrap\n        width 100%\n        .questionnaire-footer-btn-wrap\n          margin 0 auto\n          width 400px\n          height 88px\n          background $red\n          border-radius 44px\n          margin-top 33px\n          text-align center\n          line-height 88px\n          cursor-pointer()\n          .questionnaire-footer-btn\n            baseTextStyle(36px, $fff)\n.van-popup\n  width 480px\n  height 330px\n  background rgba(255, 255, 255, 1)\n  border-radius 8px\n  baseTextStyle(36px, $c333, $boldFontWeight)\n  text-align center\n  line-height 400px\n  overflow visible\n  .popup-icon\n    bg-image(\"pop/success\", 280)\n    horizontally(280, absolute)\n    top -120px\n  .success\n    active-image(\"pop/success\")\n  .fail\n    active-image(\"pop/fail\")\n</style>\n<style lang=\"stylus\">\n@import \"~styles/mixins.styl\"\n\n.msgbox\n  width 230px\n  height 140px\n  background $fff\n  border 1px solid $ddd; /* no */\n  border-radius 8px\n  overflow visible\n  position relative\n  .el-message-box__content\n    padding 0\n    margin-top 81px\n    .el-message-box__message\n      text-align center\n      baseTextStyle(20px, $c333, $boldFontWeight)\n  .el-message-box__btns\n    width-height-same(140px)\n    background url(\"~images/pop/success.png\") no-repeat\n    background-size 140px\n    padding 0\n    position absolute\n    top -74px\n    left 50%\n    margin-left -70px\n.success\n  .el-message-box__btns\n    background-image url(\"~images/pop/success.png\")\n.fail\n  .el-message-box__btns\n    background-image url(\"~images/pop/fail.png\")\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Questionnaire.vue?vue&type=template&id=7d768813&scoped=true&\"\nimport script from \"./Questionnaire.vue?vue&type=script&lang=js&\"\nexport * from \"./Questionnaire.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Questionnaire.vue?vue&type=style&index=0&id=7d768813&lang=stylus&scoped=true&\"\nimport style1 from \"./Questionnaire.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d768813\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=style&index=1&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=style&index=1&lang=stylus&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=style&index=0&id=7d768813&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Questionnaire.vue?vue&type=style&index=0&id=7d768813&lang=stylus&scoped=true&\""],"sourceRoot":""}